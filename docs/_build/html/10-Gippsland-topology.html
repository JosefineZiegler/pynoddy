<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Topology analysis for the Gippsland Basin &mdash; pynoddy  documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pynoddy  documentation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pynoddy  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="topology-analysis-for-the-gippsland-basin">
<h1>Topology analysis for the Gippsland Basin<a class="headerlink" href="#topology-analysis-for-the-gippsland-basin" title="Permalink to this headline">¶</a></h1>
<p>In this notebook, we are testing the combination of the pynoddy
Experiment class with the topology analysis and apply it to the
Gippsland Basin model. This notebook will evaluate three aspects:</p>
<ol class="arabic simple">
<li>Application of the Experiment class to set-up a topology experiment</li>
<li>Running the topology analysis for a range of models</li>
<li>Evaluating and visualising results</li>
</ol>
<p>Further steps might include the parallelisation of the random model
generation, let&#8217;s see where we get...</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="n">css_file</span> <span class="o">=</span> <span class="s">&#39;pynoddy.css&#39;</span>
<span class="n">HTML</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">css_file</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<link href='http://fonts.googleapis.com/css?family=Alegreya+Sans:100,300,400,500,700,800,900,100italic,300italic,400italic,500italic,700italic,800italic,900italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Arvo:400,700,400italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Mono' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Tangerine">
<link href='http://fonts.googleapis.com/css?family=Philosopher:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lora:400,400italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Karla:400,400italic' rel='stylesheet' type='text/css'>

<style>

@font-face {
    font-family: "Computer Modern";
    src: url('http://mirrors.ctan.org/fonts/cm-unicode/fonts/otf/cmunss.otf');
}

#notebook_panel { /* main background */
    background: #888;
    color: #f6f6f6;
}

div.cell { /* set cell width to about 80 chars */
    width: 800px;
}

div #notebook { /* centre the content */
    background: #fff; /* white background for content */
    width: 1000px;
    margin: auto;
    padding-left: 1em;
}

#notebook li { /* More space between bullet points */
margin-top:0.8em;
}

/* draw border around running cells */
div.cell.border-box-sizing.code_cell.running {
    border: 3px solid #111;
}

/* Put a solid color box around each cell and its output, visually linking them together */
div.cell.code_cell {
    background: #ddd;  /* rgba(230,230,230,1.0);  */
    border-radius: 10px; /* rounded borders */
    width: 900px;
    padding: 1em;
    margin-top: 1em;
}

div.text_cell_render{
    font-family: 'Arvo' sans-serif;
    line-height: 130%;
    font-size: 115%;
    width:700px;
    margin-left:auto;
    margin-right:auto;
}


/* Formatting for header cells */
.text_cell_render h1 {
    font-family: 'Alegreya Sans', sans-serif;
    /* font-family: 'Tangerine', serif; */
    /* font-family: 'Libre Baskerville', serif; */
    /* font-family: 'Karla', sans-serif;
    /* font-family: 'Lora', serif; */
    font-size: 50px;
    text-align: center;
    /* font-style: italic; */
    font-weight: 400;
    /* font-size: 40pt; */
    /* text-shadow: 4px 4px 4px #aaa; */
    line-height: 120%;
    color: rgb(12,85,97);
    margin-bottom: .5em;
    margin-top: 0.1em;
    display: block;
}
.text_cell_render h2 {
    /* font-family: 'Arial', serif; */
    /* font-family: 'Lora', serif; */
    font-family: 'Alegreya Sans', sans-serif;
    font-weight: 700;
    font-size: 24pt;
    line-height: 100%;
    /* color: rgb(171,165,131); */
    color: rgb(12,85,97);
    margin-bottom: 0.1em;
    margin-top: 0.1em;
    display: block;
}

.text_cell_render h3 {
    font-family: 'Arial', serif;
    margin-top:12px;
    margin-bottom: 3px;
    font-style: italic;
    color: rgb(95,92,72);
}

.text_cell_render h4 {
    font-family: 'Arial', serif;
}

.text_cell_render h5 {
    font-family: 'Alegreya Sans', sans-serif;
    font-weight: 300;
    font-size: 16pt;
    color: grey;
    font-style: italic;
    margin-bottom: .1em;
    margin-top: 0.1em;
    display: block;
}

.text_cell_render h6 {
    font-family: 'PT Mono', sans-serif;
    font-weight: 300;
    font-size: 10pt;
    color: grey;
    margin-bottom: 1px;
    margin-top: 1px;
}

.CodeMirror{
        font-family: "PT Mono";
        font-size: 100%;
}

</style><div class="code python highlight-python"><div class="highlight"><pre>%matplotlib inline
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># here the usual imports. If any of the imports fails, make sure that pynoddy is installed</span>
<span class="c"># properly, ideally with &#39;python setup.py develop&#39; or &#39;python setup.py install&#39;</span>
<span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="c"># adjust some settings for matplotlib</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>
<span class="c"># print rcParams</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">15</span>
<span class="c"># determine path of repository to set paths corretly below</span>
<span class="n">repo_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="s">&#39;../..&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pynoddy.history</span>
<span class="kn">import</span> <span class="nn">pynoddy.experiment</span>
<span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
</pre></div>
</div>
<div class="section" id="creating-an-experiment-object">
<h2>Creating an experiment object<a class="headerlink" href="#creating-an-experiment-object" title="Permalink to this headline">¶</a></h2>
<p>First, we start with generating a pynoddy experiment object. The
experiment class inherits all the methods from the base pynoddy.history
class and we can directly import the Gippsland Basin model that we want
to analyse into the object:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="nb">reload</span><span class="p">(</span><span class="n">pynoddy</span><span class="o">.</span><span class="n">experiment</span><span class="p">)</span>
<span class="c"># the model itself is now part of the repository, in the examples directory:</span>
<span class="n">history_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">repo_path</span><span class="p">,</span> <span class="s">&quot;examples/GBasin_Ve1_V4_b.his&quot;</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span> <span class="o">=</span> <span class="n">pynoddy</span><span class="o">.</span><span class="n">experiment</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span><span class="n">history</span> <span class="o">=</span> <span class="n">history_file</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">STRATIGRAPHY</span>
<span class="n">FOLD</span>
<span class="n">UNCONFORMITY</span>
<span class="n">FAULT</span>
<span class="n">FAULT</span>
<span class="n">UNCONFORMITY</span>
<span class="n">FAULT</span>
<span class="n">FAULT</span>
<span class="n">UNCONFORMITY</span>
<span class="n">FAULT</span>
<span class="n">FAULT</span>
<span class="n">UNCONFORMITY</span>
<span class="n">TILT</span>
<span class="n">FOLD</span>
</pre></div>
</div>
<p>Some basic information about the model can be obtained with:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
<pre class="literal-block">
<strong>********************************************************</strong>
                    Model Information
<strong>********************************************************</strong>


This model consists of 14 events:
    (1) - STRATIGRAPHY
    (2) - FOLD
    (3) - UNCONFORMITY
    (4) - FAULT
    (5) - FAULT
    (6) - UNCONFORMITY
    (7) - FAULT
    (8) - FAULT
    (9) - UNCONFORMITY
    (10) - FAULT
    (11) - FAULT
    (12) - UNCONFORMITY
    (13) - TILT
    (14) - FOLD
The model extent is:
    x - 26630.0 m
    y - 19291.0 m
    z - 1500.0 m
Number of cells in each direction:
    nx = 532
    ny = 385
    nz = 30
The model origin is located at:
    (0.0, 0.0, 1500.0)
The cubesize for model export is:
    50 m


<strong>********************************************************</strong>
                    Meta Data
<strong>********************************************************</strong>


The filename of the model is:
     GBasin_Ve1_V4.his
It was last saved (if origin was a history file!) at:
     12/11/2014 11:33:12
</pre>
<p>We can have a quick look at the model in a section view (note that Noddy
is now executed in the background when required - and the output
automatically generated in the required resolution):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/10-Gippsland-topology_9_0.png" src="_images/10-Gippsland-topology_9_0.png" />
<p>The base plot is not very useful - but we can create a section plot with
a define vertical exaggeration (keyword ve) and plot the colorbar in
horizontal orientation:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># gipps_topo_ex.determine_model_stratigraphy()</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">position</span> <span class="o">=</span> <span class="s">&#39;centre&#39;</span><span class="p">,</span>
                <span class="n">cmap</span> <span class="o">=</span> <span class="s">&#39;YlOrRd&#39;</span><span class="p">,</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
                <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="n">position</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">,</span>
                <span class="n">cmap</span> <span class="o">=</span> <span class="s">&#39;YlOrRd&#39;</span><span class="p">,</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
                <span class="n">colorbar_orientation</span> <span class="o">=</span> <span class="s">&#39;horizontal&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/10-Gippsland-topology_11_0.png" src="_images/10-Gippsland-topology_11_0.png" />
<img alt="_images/10-Gippsland-topology_11_1.png" src="_images/10-Gippsland-topology_11_1.png" />
<p><em>Note: The names of the model stratigraphy (colorbar labels) are
unfortunately not defined correctly in the input file - we need to fix
that, then we should get useful labels, as well!</em></p>
</div>
<div class="section" id="loading-parameters-ranges-from-file">
<h2>Loading parameters ranges from file<a class="headerlink" href="#loading-parameters-ranges-from-file" title="Permalink to this headline">¶</a></h2>
<p>We now need to define the parameter ranges. This step can either be done
through explicit definition in the notebook (see the previous notebook
on the Experiment class), or a list of parameters and defined ranges
plus statistics can be read in from a csv file. This enables the
convenient parameter definition in a spreadsheed (for example through
Excel).</p>
<p>In order to be read in correctly, the header should contain the labels:</p>
<ul class="simple">
<li>&#8216;event&#8217; : event id</li>
<li>&#8216;parameter&#8217; : Noddy parameter (&#8216;Dip&#8217;, &#8216;Dip Direction&#8217;, etc.)</li>
<li>&#8216;min&#8217; : minimum value</li>
<li>&#8216;max&#8217; : maximum value</li>
<li>&#8216;initial&#8217; : initial value</li>
</ul>
<p>In addition, it is possible to define PDF type and parameters. For now,
the following settings are supported:</p>
<ul class="simple">
<li>&#8216;type&#8217; = &#8216;normal&#8217;</li>
<li>&#8216;stdev&#8217; : standard deviation</li>
<li>&#8216;mean&#8217; : mean value (default: &#8216;initial&#8217; value)</li>
</ul>
<p>We can read in the parameters simply with:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="nb">reload</span><span class="p">(</span><span class="n">pynoddy</span><span class="o">.</span><span class="n">experiment</span><span class="p">)</span>
<span class="c"># the model itself is now part of the repository, in the examples directory:</span>
<span class="n">history_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">repo_path</span><span class="p">,</span> <span class="s">&quot;examples/GBasin_Ve1_V4_b.his&quot;</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span> <span class="o">=</span> <span class="n">pynoddy</span><span class="o">.</span><span class="n">experiment</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span><span class="n">history</span> <span class="o">=</span> <span class="n">history_file</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">load_parameter_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">repo_path</span><span class="p">,</span> <span class="s">&quot;examples/gipps_params.csv&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">STRATIGRAPHY</span>
<span class="n">FOLD</span>
<span class="n">UNCONFORMITY</span>
<span class="n">FAULT</span>
<span class="n">FAULT</span>
<span class="n">UNCONFORMITY</span>
<span class="n">FAULT</span>
<span class="n">FAULT</span>
<span class="n">UNCONFORMITY</span>
<span class="n">FAULT</span>
<span class="n">FAULT</span>
<span class="n">UNCONFORMITY</span>
<span class="n">TILT</span>
<span class="n">FOLD</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-random-perturbations-of-the-model">
<h2>Generating random perturbations of the model<a class="headerlink" href="#generating-random-perturbations-of-the-model" title="Permalink to this headline">¶</a></h2>
<p>Before generating random prerturbations, we should now store the base
version so that we can always revert to it at a later stage:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">freeze</span><span class="p">()</span>
</pre></div>
</div>
<p>For a reproducible experiment, we can also set the random seed:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
</pre></div>
</div>
<p>And now, let&#8217;s perturb the model:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">random_perturbation</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">277.865152173745</span><span class="p">},</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">196.5780572502714</span><span class="p">},</span> <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">76.90225676118388</span><span class="p">},</span> <span class="mi">5</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">135.29168351654496</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">88.64293405915885</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">43.85697358355719</span><span class="p">},</span> <span class="mi">8</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">12.412127567340804</span><span class="p">},</span> <span class="mi">9</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">30.26135619125114</span><span class="p">},</span> <span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">237.02316539567448</span><span class="p">},</span> <span class="mi">11</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">126.59344916936925</span><span class="p">},</span> <span class="mi">12</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">11.98271246605509</span><span class="p">},</span> <span class="mi">13</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Rotation&#39;</span><span class="p">:</span> <span class="mf">1.6644135780383635</span><span class="p">},</span> <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Y&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">13106.96198692995</span><span class="p">}}</span>
</pre></div>
</div>
<p>Let&#8217;s see what happened: we can compare the new model to the base model
as we stored it before:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s">&quot;base&quot;</span><span class="p">,</span>
                           <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                           <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/10-Gippsland-topology_23_0.png" src="_images/10-Gippsland-topology_23_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">b1</span> <span class="o">=</span> <span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">get_section</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">resolution</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s">&#39;base&#39;</span><span class="p">)</span>
<span class="c"># b1.plot_section(direction = &#39;x&#39;, colorbar = False, title = &quot;&quot;, ve = 5.)</span>
<span class="n">b2</span> <span class="o">=</span> <span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">get_section</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">resolution</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s">&#39;current&#39;</span><span class="p">)</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">b1</span> <span class="o">-</span> <span class="n">b2</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

&lt;ipython-input-66-550f77b4c772&gt; in &lt;module&gt;()
      2 # b1.plot_section(direction = &#39;x&#39;, colorbar = False, title = &quot;&quot;, ve = 5.)
      3 b2 = gipps_topo_ex.get_section(&#39;x&#39;, resolution = 50, model_type = &#39;current&#39;)
----&gt; 4 diff = b1 - b2


TypeError: unsupported operand type(s) for -: &#39;NoddyOutput&#39; and &#39;NoddyOutput&#39;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">b1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;pynoddy.output.NoddyOutput object at 0x10f629290&gt;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">b1</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">532</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<p>...and another perturbation:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">random_perturbation</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">188.99205546868865</span><span class="p">},</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">75.38865347898968</span><span class="p">},</span> <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">24.667410998222795</span><span class="p">},</span> <span class="mi">5</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">2.218459865817252</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">75.83631450155792</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">5.000935590418351</span><span class="p">},</span> <span class="mi">8</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">65.24688414608954</span><span class="p">},</span> <span class="mi">9</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">121.83019765811389</span><span class="p">},</span> <span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">50.30873913603446</span><span class="p">},</span> <span class="mi">11</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Slip&#39;</span><span class="p">:</span> <span class="mf">22.289554583517685</span><span class="p">},</span> <span class="mi">12</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Z&#39;</span><span class="p">:</span> <span class="mf">5.131610092088749</span><span class="p">},</span> <span class="mi">13</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Rotation&#39;</span><span class="p">:</span> <span class="mf">4.083534679453123</span><span class="p">},</span> <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;Y&#39;</span><span class="p">:</span> <span class="mf">15511.439296441264</span><span class="p">}}</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">311</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">312</span><span class="p">)</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">313</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s">&quot;base&quot;</span><span class="p">,</span>
                           <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                           <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">)</span>
<span class="c"># plot difference</span>
</pre></div>
</div>
<img alt="_images/10-Gippsland-topology_29_0.png" src="_images/10-Gippsland-topology_29_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s">&quot;base&quot;</span><span class="p">,</span>
                           <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">)</span>
<span class="n">gipps_topo_ex</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">colorbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                           <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="mf">5.</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/10-Gippsland-topology_30_0.png" src="_images/10-Gippsland-topology_30_0.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Topology analysis for the Gippsland Basin</a><ul>
<li><a class="reference internal" href="#creating-an-experiment-object">Creating an experiment object</a></li>
<li><a class="reference internal" href="#loading-parameters-ranges-from-file">Loading parameters ranges from file</a></li>
<li><a class="reference internal" href="#generating-random-perturbations-of-the-model">Generating random perturbations of the model</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/10-Gippsland-topology.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pynoddy  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Florian Wellmann.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>